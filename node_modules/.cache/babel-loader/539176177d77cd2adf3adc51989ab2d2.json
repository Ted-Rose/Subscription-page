{"ast":null,"code":"import _slicedToArray from\"C:/Users/Tedis/Local_documents/GitHub/Study/CSS/css-in-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import\"./EmailForm.scss\";import AddEmailToDatabase from\"./AddEmailToDatabase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmailForm=function EmailForm(){var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),message=_React$useState2[0],setMessage=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),emailInput=_React$useState4[0],setEmailInput=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),inputHasError=_React$useState6[0],setInputHasError=_React$useState6[1];var _React$useState7=React.useState(true),_React$useState8=_slicedToArray(_React$useState7,2),hideErrorMessage=_React$useState8[0],setHideErrorMessage=_React$useState8[1];var inputChangeHandler=function inputChangeHandler(event){setEmailInput(event.target.value);};var emailValidation=function emailValidation(){var emailRegex=/^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;return!(!emailInput||emailRegex.test(emailInput)===false);};var countryValidation=function countryValidation(){var countryRegex=/.co$/;return!emailInput||countryRegex.test(emailInput)===false;};var onSubmit=function onSubmit(){var isEmailValid=emailValidation();var countryValid=countryValidation();if(Object.keys(emailInput).length===0){setInputHasError(true);setMessage(\"Email adress is required!\");}else if(!countryValid){setInputHasError(true);setMessage(\"We are not accepting subscriptions from Colombia emails!\");}else if(!isEmailValid){setInputHasError(true);setMessage(\"Email Address not valid!\");}else{setInputHasError(false);setMessage(\"Thanks for subscribing!\");AddEmailToDatabase(emailInput);}setHideErrorMessage(false);};var preventDefault=function preventDefault(e){e.preventDefault();};var messageClass=inputHasError?\"error\":\"approved\";var showMessage=hideErrorMessage?\"hide\":\"show\";return/*#__PURE__*/_jsxs(\"div\",{className:\"formBox\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:preventDefault,action:\"#\",id:\"subscriptionForm\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"vl\".concat(\" \",messageClass)}),/*#__PURE__*/_jsx(\"input\",{id:\"emailInput\",type:\"text\",className:\"emailInput\".concat(\" \",messageClass),value:emailInput,onChange:inputChangeHandler,name:\"email_input\",placeholder:\"Type your email address here\\u2026\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submitButton\",onClick:onSubmit})]}),/*#__PURE__*/_jsx(\"div\",{className:\"message\".concat(\" \",messageClass,\" \").concat(showMessage),children:message})]});};export default EmailForm;","map":{"version":3,"names":["React","AddEmailToDatabase","EmailForm","useState","message","setMessage","emailInput","setEmailInput","inputHasError","setInputHasError","hideErrorMessage","setHideErrorMessage","inputChangeHandler","event","target","value","emailValidation","emailRegex","test","countryValidation","countryRegex","onSubmit","isEmailValid","countryValid","Object","keys","length","preventDefault","e","messageClass","showMessage"],"sources":["C:/Users/Tedis/Local_documents/GitHub/Study/CSS/css-in-react/src/EmailForm.js"],"sourcesContent":["import React from \"react\";\r\n\r\nimport \"./EmailForm.scss\";\r\n\r\nimport AddEmailToDatabase from \"./AddEmailToDatabase\";\r\n\r\n  \r\nconst EmailForm = () => {\r\n  const [message, setMessage] = React.useState(\"\");\r\n  const [emailInput, setEmailInput] = React.useState(\"\");\r\n  const [inputHasError, setInputHasError] = React.useState(false);\r\n  const [hideErrorMessage, setHideErrorMessage] = React.useState(true);\r\n\r\n  const inputChangeHandler = (event) => {\r\n    setEmailInput(event.target.value);\r\n  };\r\n\r\n  const emailValidation = () => {\r\n    const emailRegex =\r\n      /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\r\n    return !(!emailInput || emailRegex.test(emailInput) === false);\r\n  };\r\n\r\n  const countryValidation = () => {\r\n    const countryRegex = /.co$/;\r\n    return !emailInput || countryRegex.test(emailInput) === false;\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    const isEmailValid = emailValidation();\r\n    const countryValid = countryValidation();\r\n\r\n    if (Object.keys(emailInput).length === 0) {\r\n      setInputHasError(true);\r\n      setMessage(\"Email adress is required!\");\r\n    } else if (!countryValid) {\r\n      setInputHasError(true);\r\n      setMessage(\"We are not accepting subscriptions from Colombia emails!\");\r\n    } else if (!isEmailValid) {\r\n      setInputHasError(true);\r\n      setMessage(\"Email Address not valid!\");\r\n    } else {\r\n      setInputHasError(false);\r\n        setMessage(\"Thanks for subscribing!\");\r\n        AddEmailToDatabase(emailInput);\r\n      }\r\n      setHideErrorMessage(false);\r\n    };\r\n    \r\n\r\n  const preventDefault = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n    const messageClass = inputHasError ? \"error\" : \"approved\";\r\n    const showMessage = hideErrorMessage ? \"hide\" : \"show\";\r\n\r\n  return (\r\n    <div className=\"formBox\">\r\n      <form\r\n        className=\"form\"\r\n        onSubmit={preventDefault}\r\n        action=\"#\"\r\n        id=\"subscriptionForm\"\r\n      >\r\n        <div class={`${\"vl\"} ${messageClass}`}></div>\r\n        <input\r\n          id=\"emailInput\"\r\n          type=\"text\"\r\n          className={`${\"emailInput\"} ${messageClass}`}\r\n          value={emailInput}\r\n          onChange={inputChangeHandler}\r\n          name=\"email_input\"\r\n          placeholder=\"Type your email address hereâ€¦\"\r\n        />\r\n        {/*         <input\r\n          id=\"submitButton\"\r\n          type=\"image\"\r\n          className=\"submitButton\"\r\n          alt=\"Submit\"\r\n          src=\"./Images/ic_arrow.png\"\r\n        ></input> */}\r\n        <button className=\"submitButton\" onClick={onSubmit}></button>\r\n      </form>\r\n      <div className={`${\"message\"} ${messageClass} ${showMessage}`}>{message}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmailForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}